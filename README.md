autocannon -c 500 -d 20 -p 100 http://localhost:8000/api/trpc/hello
Running 20s test @ http://localhost:8000/api/trpc/hello
500 connections with 100 pipelining factor


┌─────────┬────────┬────────┬────────┬────────┬────────┬─────────┬────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg    │ Stdev   │ Max    │
├─────────┼────────┼────────┼────────┼────────┼────────┼─────────┼────────┤
│ Latency │ 238 ms │ 247 ms │ 264 ms │ 288 ms │ 248 ms │ 20.7 ms │ 532 ms │
└─────────┴────────┴────────┴────────┴────────┴────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬───────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg       │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼──────────┼─────────┤
│ Req/Sec   │ 182,143 │ 182,143 │ 201,727 │ 204,799 │ 200,377.6 │ 5,138.45 │ 182,100 │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼──────────┼─────────┤
│ Bytes/Sec │ 29.9 MB │ 29.9 MB │ 33.1 MB │ 33.6 MB │ 32.9 MB   │ 841 kB   │ 29.9 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴───────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 20

4058k requests in 20.08s, 657 MB read

# benchmark 2
autocannon -c 1000 -d 20 -p 100 http://localhost:8000/api/trpc/hello
Running 20s test @ http://localhost:8000/api/trpc/hello
1000 connections with 100 pipelining factor


┌─────────┬────────┬────────┬────────┬────────┬───────────┬──────────┬─────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev    │ Max     │
├─────────┼────────┼────────┼────────┼────────┼───────────┼──────────┼─────────┤
│ Latency │ 427 ms │ 498 ms │ 512 ms │ 516 ms │ 498.34 ms │ 62.33 ms │ 1558 ms │
└─────────┴────────┴────────┴────────┴────────┴───────────┴──────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬───────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg       │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼──────────┼─────────┤
│ Req/Sec   │ 172,543 │ 172,543 │ 200,191 │ 201,727 │ 198,572.8 │ 6,188.94 │ 172,524 │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼──────────┼─────────┤
│ Bytes/Sec │ 28.3 MB │ 28.3 MB │ 32.8 MB │ 33.1 MB │ 32.6 MB   │ 1.01 MB  │ 28.3 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴───────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 20

4071k requests in 20.14s, 651 MB read

# benchmark 3
autocannon -c 1000 -d 20 -p 200 http://localhost:8000/api/trpc/hello
Running 20s test @ http://localhost:8000/api/trpc/hello
1000 connections with 200 pipelining factor


┌─────────┬────────┬─────────┬─────────┬─────────┬────────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%     │ 97.5%   │ 99%     │ Avg        │ Stdev     │ Max     │
├─────────┼────────┼─────────┼─────────┼─────────┼────────────┼───────────┼─────────┤
│ Latency │ 689 ms │ 1517 ms │ 1585 ms │ 1587 ms │ 1481.54 ms │ 203.38 ms │ 3040 ms │
└─────────┴────────┴─────────┴─────────┴─────────┴────────────┴───────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┤
│ Req/Sec   │ 118,079 │ 118,079 │ 131,839 │ 133,247 │ 130,408 │ 3,337.48 │ 118,036 │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┤
│ Bytes/Sec │ 19.4 MB │ 19.4 MB │ 21.6 MB │ 21.8 MB │ 21.4 MB │ 548 kB   │ 19.4 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.
# of samples: 20

2808k requests in 20.19s, 428 MB read

# benchmark 
general
40m, 0%

low memory and cpu using
150m，100%

# trpc-uWebSockets.js 安装
pnpm add uNetworking/uWebSockets.js
